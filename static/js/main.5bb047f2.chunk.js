(this["webpackJsonphighlighter-prototype"]=this["webpackJsonphighlighter-prototype"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),c=n.n(r);n(16),n(17),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(18);var l=n(3),i=n(6);var s=n(4),d=(n(24),n(2)),u=n(30),m=n(9),f=n.n(m),p=n(10);var h=function(e,t){switch(t.type){case"ADD_HIGHLIGHT":return[].concat(Object(p.a)(e),[{id:t.payload.id,text:t.payload.text,start:t.payload.start,end:t.payload.end,color:t.payload.color}]);case"REMOVE_HIGHLIGHT":return e.filter((function(e){return e.id!==t.payload}));case"RESET_HIGHLIGHTS":return[];default:return e}},g=[],v=o.a.createContext(g);var b=function(){var e=Object(a.useContext)(v).dispatch,t=Object(a.useState)(null),n=Object(d.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)(!1),l=Object(d.a)(c,2),i=l[0],s=l[1],m=Object(a.useState)(!0),p=Object(d.a)(m,2),h=p[0],g=p[1];return{text:o,loading:i,showUploader:h,handleClick:function(){g(!1),s(!0),setTimeout((function(){fetch("/sample_text.txt").then((function(e){return e.text()})).then((function(e){return r(e)})),s(!1)}),2e3)},handleChange:function(e){var t=e.target.files[0],n=new FileReader;n.onprogress=function(e){g(!1),s(!0)},n.onload=function(e){setTimeout((function(){r(e.target.result),s(!1)}),2e3)},n.readAsText(t)},selectedText:function(){var t=window.getSelection(),n=f()();if(0!==t.toString().trim().length){var a={id:Object(u.a)(),text:t.toString(),start:t.anchorOffset,end:t.focusOffset,color:n},o=document.createElement("mark");if(o.style.backgroundColor=n,o.style.opacity=.85,o.className=a.id,window.getSelection){var r=window.getSelection();if(r.rangeCount){var c=r.getRangeAt(0).cloneRange();o.append(c.extractContents()),c.insertNode(o)}}window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),e({type:"ADD_HIGHLIGHT",payload:a})}}}};var E=function(){var e=b(),t=e.loading,n=e.showUploader,a=e.text,r=e.handleClick,c=e.handleChange,l=e.selectedText;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"uploader ".concat(n?"d-block":"d-none")},o.a.createElement("div",{className:"row d-flex flex-column justify-content-center align-items-center align-content-center min-vh-100"},o.a.createElement("input",{type:"file",id:"file",className:"input-file",accept:".txt",onChange:function(e){return c(e)}}),o.a.createElement("label",{htmlFor:"file"},o.a.createElement(s.a,{icon:"upload"})," Click here to upload a file"),o.a.createElement("div",{className:"separator"},"or"),o.a.createElement("button",{type:"button",className:"btn btn-light mt-2",onClick:function(){return r()}},"Try a sample text"))),o.a.createElement("div",{className:"file-content"},t?o.a.createElement("div",{className:"spinner-border",role:"status"}," ",o.a.createElement("span",{className:"sr-only"},"Loading...")," "):o.a.createElement("div",{className:"inner",onMouseUp:l,dangerouslySetInnerHTML:{__html:a}})))};n(26),n(27);var y=function(e){var t=e.id,n=e.text,r=e.color,c=Object(a.useContext)(v).dispatch;return o.a.createElement("div",{className:"hightlight"},o.a.createElement("div",{className:"close",style:{border:"1px solid ".concat(r)},onClick:function(){return function(e){for(;;){for(var t=document.getElementsByClassName(e),n=0;n<t.length;n++)t[n].outerHTML=t[n].innerHTML;if(c({type:"REMOVE_HIGHLIGHT",payload:e}),0===t.length)break}}(t)}},o.a.createElement(s.a,{icon:"trash"})),o.a.createElement("div",{style:{borderTop:"1px solid ".concat(r),borderRight:"1px solid ".concat(r),borderLeft:"1px solid ".concat(r),borderBottom:"5px solid ".concat(r)}},n))};var x=function(){var e=Object(a.useContext)(v),t=e.store,n=e.dispatch,r=t.map((function(e){var t=e.id,n=e.text,a=e.color;return o.a.createElement(y,{key:t,id:t,text:n,color:a})}));return o.a.createElement("div",{className:"sidebar vh-100"},r,0!==r.length?o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{type:"button",className:"btn btn-primary styled-primary-button btn-block",onClick:function(){alert("Send payload to API endpoint")}},"Continue"),o.a.createElement("button",{type:"button",className:"btn btn-outline-dark btn-block",onClick:function(){return function(){for(;;){for(var e=document.getElementsByTagName("mark"),t=0;t<e.length;t++)e[t].outerHTML=e[t].innerHTML;if(n({type:"RESET_HIGHLIGHTS"}),0===e.length)break}}()}},"Reset selections")):o.a.createElement("div",{className:"alert alert-info"},"Highlight some text from the document to get started."))};var w=function(){return l.b.add(i.b,i.a),o.a.createElement("div",{className:"app container-fluid"},o.a.createElement("div",{className:"row min-vh-100 no-gutters"},o.a.createElement("div",{className:"col-9 main-content"},o.a.createElement(E,null)),o.a.createElement("div",{className:"col-3 drawer min-vh-100"},o.a.createElement(x,null))))};c.a.render(o.a.createElement((function(e){var t=e.children,n=Object(a.useReducer)(h,g),r=Object(d.a)(n,2),c=r[0],l=r[1];return o.a.createElement(v.Provider,{value:{store:c,dispatch:l}},t)}),null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.5bb047f2.chunk.js.map